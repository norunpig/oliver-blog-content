<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.61">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>http模块 | Oliver</title><meta name="description" content="Oliver">
    <link rel="preload" href="/blog/assets/style-20d3be26.css" as="style"><link rel="stylesheet" href="/blog/assets/style-20d3be26.css">
    <link rel="modulepreload" href="/blog/assets/app-4bccd600.js"><link rel="modulepreload" href="/blog/assets/framework-5866ffd3.js"><link rel="modulepreload" href="/blog/assets/1.http模块.html-346852a5.js"><link rel="modulepreload" href="/blog/assets/1.http模块.html-0328bc0b.js"><link rel="prefetch" href="/blog/assets/index.html-1da8ffcd.js" as="script"><link rel="prefetch" href="/blog/assets/test.html-f0f291c0.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2b5935c9.js" as="script"><link rel="prefetch" href="/blog/assets/a.html-a493226c.js" as="script"><link rel="prefetch" href="/blog/assets/b.html-08149137.js" as="script"><link rel="prefetch" href="/blog/assets/a.html-cafbf7f5.js" as="script"><link rel="prefetch" href="/blog/assets/b.html-de241075.js" as="script"><link rel="prefetch" href="/blog/assets/1.RxJS概述.html-0a8506f0.js" as="script"><link rel="prefetch" href="/blog/assets/2.RxJS安装说明.html-e37d6fbd.js" as="script"><link rel="prefetch" href="/blog/assets/2.模块化.html-a2beab01.js" as="script"><link rel="prefetch" href="/blog/assets/3.npm与包.html-bbbfa969.js" as="script"><link rel="prefetch" href="/blog/assets/4.模块的加载机制.html-be2e4438.js" as="script"><link rel="prefetch" href="/blog/assets/5.Express.html-7598a4d0.js" as="script"><link rel="prefetch" href="/blog/assets/6.中间件.html-98f4f35c.js" as="script"><link rel="prefetch" href="/blog/assets/6.编写接口.html-b6b76701.js" as="script"><link rel="prefetch" href="/blog/assets/1.RxJS概述.html-87c5792a.js" as="script"><link rel="prefetch" href="/blog/assets/2.RxJS安装说明.html-c59c557d.js" as="script"><link rel="prefetch" href="/blog/assets/1.http模块.html-acdf6fee.js" as="script"><link rel="prefetch" href="/blog/assets/2.模块化.html-80d24d6c.js" as="script"><link rel="prefetch" href="/blog/assets/3.npm与包.html-db9cfb62.js" as="script"><link rel="prefetch" href="/blog/assets/4.模块的加载机制.html-c8844e93.js" as="script"><link rel="prefetch" href="/blog/assets/5.Express.html-b266aaf9.js" as="script"><link rel="prefetch" href="/blog/assets/6.中间件.html-fc06a254.js" as="script"><link rel="prefetch" href="/blog/assets/6.编写接口.html-116488e2.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-368081e1.js" as="script"><link rel="prefetch" href="/blog/assets/test.html-19af1007.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-f58c2fa9.js" as="script"><link rel="prefetch" href="/blog/assets/a.html-2c9733ae.js" as="script"><link rel="prefetch" href="/blog/assets/b.html-ff08dc67.js" as="script"><link rel="prefetch" href="/blog/assets/a.html-962b7be8.js" as="script"><link rel="prefetch" href="/blog/assets/b.html-19c1a225.js" as="script"><link rel="prefetch" href="/blog/assets/1.RxJS概述.html-668d7522.js" as="script"><link rel="prefetch" href="/blog/assets/2.RxJS安装说明.html-037d2742.js" as="script"><link rel="prefetch" href="/blog/assets/2.模块化.html-8a39c1f6.js" as="script"><link rel="prefetch" href="/blog/assets/3.npm与包.html-ff296490.js" as="script"><link rel="prefetch" href="/blog/assets/4.模块的加载机制.html-72e10af5.js" as="script"><link rel="prefetch" href="/blog/assets/5.Express.html-c0f6c2b0.js" as="script"><link rel="prefetch" href="/blog/assets/6.中间件.html-d25056c8.js" as="script"><link rel="prefetch" href="/blog/assets/6.编写接口.html-d45d6ae6.js" as="script"><link rel="prefetch" href="/blog/assets/1.RxJS概述.html-9a49554a.js" as="script"><link rel="prefetch" href="/blog/assets/2.RxJS安装说明.html-eb2976b0.js" as="script"><link rel="prefetch" href="/blog/assets/1.http模块.html-3b6c999e.js" as="script"><link rel="prefetch" href="/blog/assets/2.模块化.html-bdc43652.js" as="script"><link rel="prefetch" href="/blog/assets/3.npm与包.html-cf39df63.js" as="script"><link rel="prefetch" href="/blog/assets/4.模块的加载机制.html-ed04c5a3.js" as="script"><link rel="prefetch" href="/blog/assets/5.Express.html-b1a7eb56.js" as="script"><link rel="prefetch" href="/blog/assets/6.中间件.html-f76438b8.js" as="script"><link rel="prefetch" href="/blog/assets/6.编写接口.html-455e4379.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-87d54bd8.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/blog/" class=""><img class="logo" src="/blog/images/logo.png" alt="Oliver"><span class="site-name can-hide">Oliver</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a class="external-link" href="https://norunpig.github.io/" rel="noopener noreferrer" target="_blank" aria-label="Home"><!--[--><!--]--> Home <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/" class="" aria-label="blog"><!--[--><!--]--> blog <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="study notes"><span class="title">study notes</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="study notes"><span class="title">study notes</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/blog/docs/node/1.http模块.md" class="" aria-label="nodes notes"><!--[--><!--]--> nodes notes <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/blog/docs/RXJS/1.RxJS概述.md" class="" aria-label="RXJS"><!--[--><!--]--> RXJS <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="resource"><span class="title">resource</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="resource"><span class="title">resource</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/blog/otherPage/a.md" class="" aria-label="bilibili"><!--[--><!--]--> bilibili <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/blog/otherPage/b.md" class="" aria-label="csdn"><!--[--><!--]--> csdn <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/blog/docs/node/1.http%E6%A8%A1%E5%9D%97.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/blog/zh/docs/node/1.http%E6%A8%A1%E5%9D%97.html" class="" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/norunpig/oliver-blog-content" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a class="external-link" href="https://norunpig.github.io/" rel="noopener noreferrer" target="_blank" aria-label="Home"><!--[--><!--]--> Home <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/" class="" aria-label="blog"><!--[--><!--]--> blog <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="study notes"><span class="title">study notes</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="study notes"><span class="title">study notes</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/blog/docs/node/1.http模块.md" class="" aria-label="nodes notes"><!--[--><!--]--> nodes notes <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/blog/docs/RXJS/1.RxJS概述.md" class="" aria-label="RXJS"><!--[--><!--]--> RXJS <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="resource"><span class="title">resource</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="resource"><span class="title">resource</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/blog/otherPage/a.md" class="" aria-label="bilibili"><!--[--><!--]--> bilibili <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/blog/otherPage/b.md" class="" aria-label="csdn"><!--[--><!--]--> csdn <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/blog/docs/node/1.http%E6%A8%A1%E5%9D%97.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/blog/zh/docs/node/1.http%E6%A8%A1%E5%9D%97.html" class="" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/norunpig/oliver-blog-content" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">node notes <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/docs/node/1.http%E6%A8%A1%E5%9D%97.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="http模块"><!--[--><!--]--> http模块 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/docs/node/1.http%E6%A8%A1%E5%9D%97.html#什么是http模块" class="router-link-active router-link-exact-active sidebar-item" aria-label="什么是http模块"><!--[--><!--]--> 什么是http模块 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/docs/node/1.http%E6%A8%A1%E5%9D%97.html#理解http模块的作用" class="router-link-active router-link-exact-active sidebar-item" aria-label="理解http模块的作用"><!--[--><!--]--> 理解http模块的作用 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/docs/node/1.http%E6%A8%A1%E5%9D%97.html#服务器相关的概念" class="router-link-active router-link-exact-active sidebar-item" aria-label="服务器相关的概念"><!--[--><!--]--> 服务器相关的概念 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/docs/node/1.http%E6%A8%A1%E5%9D%97.html#_1-ip-地址" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.IP 地址"><!--[--><!--]--> 1.IP 地址 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/docs/node/1.http%E6%A8%A1%E5%9D%97.html#_2-域名和域名服务器" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.域名和域名服务器"><!--[--><!--]--> 2.域名和域名服务器 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/docs/node/1.http%E6%A8%A1%E5%9D%97.html#_3-端口号" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.端口号"><!--[--><!--]--> 3.端口号 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/blog/docs/node/1.http%E6%A8%A1%E5%9D%97.html#创建最基本的web服务器" class="router-link-active router-link-exact-active sidebar-item" aria-label="创建最基本的web服务器"><!--[--><!--]--> 创建最基本的web服务器 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/docs/node/1.http%E6%A8%A1%E5%9D%97.html#_1-创建web服务器的基本步骤" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.创建web服务器的基本步骤"><!--[--><!--]--> 1.创建web服务器的基本步骤 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/docs/node/1.http%E6%A8%A1%E5%9D%97.html#_2-req请求对象" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.req请求对象"><!--[--><!--]--> 2.req请求对象 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/docs/node/1.http%E6%A8%A1%E5%9D%97.html#_3-res响应对象" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.res响应对象"><!--[--><!--]--> 3.res响应对象 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/docs/node/1.http%E6%A8%A1%E5%9D%97.html#_4-解决中文乱码问题" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.解决中文乱码问题"><!--[--><!--]--> 4.解决中文乱码问题 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/blog/docs/node/1.http%E6%A8%A1%E5%9D%97.html#根据不同的url响应不同的html内容" class="router-link-active router-link-exact-active sidebar-item" aria-label="根据不同的url响应不同的html内容"><!--[--><!--]--> 根据不同的url响应不同的html内容 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/docs/node/1.http%E6%A8%A1%E5%9D%97.html#_1-核心实现步骤" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.核心实现步骤"><!--[--><!--]--> 1.核心实现步骤 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/docs/node/1.http%E6%A8%A1%E5%9D%97.html#_2-动态响应内容" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.动态响应内容"><!--[--><!--]--> 2.动态响应内容 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/blog/docs/node/2.%E6%A8%A1%E5%9D%97%E5%8C%96.html" class="sidebar-item" aria-label="模块化"><!--[--><!--]--> 模块化 <!--[--><!--]--></a><!----></li><li><a href="/blog/docs/node/3.npm%E4%B8%8E%E5%8C%85.html" class="sidebar-item" aria-label="npm与包"><!--[--><!--]--> npm与包 <!--[--><!--]--></a><!----></li><li><a href="/blog/docs/node/4.%E6%A8%A1%E5%9D%97%E7%9A%84%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6.html" class="sidebar-item" aria-label="模块的加载机制"><!--[--><!--]--> 模块的加载机制 <!--[--><!--]--></a><!----></li><li><a href="/blog/docs/node/5.Express.html" class="sidebar-item" aria-label="初识 Express"><!--[--><!--]--> 初识 Express <!--[--><!--]--></a><!----></li><li><a href="/blog/docs/node/6.%E7%BC%96%E5%86%99%E6%8E%A5%E5%8F%A3.html" class="sidebar-item" aria-label="使用Express写接口"><!--[--><!--]--> 使用Express写接口 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="http模块" tabindex="-1"><a class="header-anchor" href="#http模块" aria-hidden="true">#</a> http模块</h1><h2 id="什么是http模块" tabindex="-1"><a class="header-anchor" href="#什么是http模块" aria-hidden="true">#</a> 什么是http模块</h2><p>回顾： 什么是<code>客户端</code>、什么是<code>服务器</code> 在网络节点中，负责消费资源的电脑，叫做客户端；负责对外提供网络资源的电脑，脚做服务器。</p><p>http模块是Node.js官方提供的、用来创建web服务器的模块。通过http模块提供的http.createServer()方法，就能方便的把一台普通电脑，变成一台web服务器，从而对外提供Web资源服务。</p><p>如果要希望使用http模块创建Web服务器，则需要先导入它：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;http&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="理解http模块的作用" tabindex="-1"><a class="header-anchor" href="#理解http模块的作用" aria-hidden="true">#</a> 理解http模块的作用</h2><p>服务器和普通电脑的区别在于，服务器上安装了web服务器软件，例如：IIS、Apache等。通过安装这些服务器软件，就能把一台普通的电脑变成一台web服务器。</p><p>在Node.js中，我们不需要使用IIS、Apache等这些第三方web服务器软件。因为我们可以基于Node.js提供的http模块，通过几行简单的代码，就能轻松的手写一个服务器软件没从而对外提供web服务。</p><h2 id="服务器相关的概念" tabindex="-1"><a class="header-anchor" href="#服务器相关的概念" aria-hidden="true">#</a> 服务器相关的概念</h2><h3 id="_1-ip-地址" tabindex="-1"><a class="header-anchor" href="#_1-ip-地址" aria-hidden="true">#</a> 1.IP 地址</h3><p>IP地址就是互联网上每台计算机的唯一地址， 因此IP地址具有唯一性。如果把“个人电脑”比作“一台电话”，那么“IP地址”就相当于“电话号码”，只有知道对方IP地址的前提下，才能与对应的电脑之前进行数据通信。</p><p>IP地址的格式： 通常用“点分十进制”表示成（a.b.c.d）的形式，其中，a,b,c,d都是0-255之间的十进制整数。例如：用点分十进表示的IP地址（192.168.1.1）</p><p>注意： 互联网中每台Web服务器，都有自己的IP地址，例如可以在windows的终端中运行ping www.baidu.com命令，即可查看到百度服务器的IP地址。</p><h3 id="_2-域名和域名服务器" tabindex="-1"><a class="header-anchor" href="#_2-域名和域名服务器" aria-hidden="true">#</a> 2.域名和域名服务器</h3><p>尽管IP地址能够唯一地标记网络上的计算机，但IP地址是一长串数字，不直观，而且不便于记忆，于是人们又发明了另一套字符型的地址方案，即所谓的域名（Domain Name）地址。</p><p>Ip地址和域名是一一对应的关系，这份对应关系放在一种叫做域名服务器（DNS，Domain name server）的电脑中。使用者只需通过好记的域名访问对应的服务器即可，对应的转换工作由域名服务器实现。因此，域名服务器就是提供IP地址和域名之间的转换服务的服务器。</p><p>注意： 单纯使用IP地址，互联网中的电脑也能够正常的工作。但是有了域名的加持，能让互联网的世界变得更加方便。 在开发测试期间，127.0.0.1对应的域名是localhost，它们都代表我们自己的这台电脑，在使用效果上没有任何区别。</p><h3 id="_3-端口号" tabindex="-1"><a class="header-anchor" href="#_3-端口号" aria-hidden="true">#</a> 3.端口号</h3><p>计算机中的端口号，就好像是现实生活中的门牌号一样。通过门牌号，外卖小哥可以在整栋大楼众多的房间中，准确把外卖送到你的手中。</p><p>同样的道理，在一台电脑中，可以运行成百上千个web服务。每个web服务都对应一个唯一的端口号。客户端发送过来的网络请求，通过端口号，可以被准确地交给对应的web服务进行处理。</p><p>注意： 每个端口号不能同时被多个web服务占用。 在实际应用中，URL中的80端口可以省略。</p><h2 id="创建最基本的web服务器" tabindex="-1"><a class="header-anchor" href="#创建最基本的web服务器" aria-hidden="true">#</a> 创建最基本的web服务器</h2><h3 id="_1-创建web服务器的基本步骤" tabindex="-1"><a class="header-anchor" href="#_1-创建web服务器的基本步骤" aria-hidden="true">#</a> 1.创建web服务器的基本步骤</h3><ul><li>导入http模块</li><li>创建web服务器实例</li><li>为服务器实例绑定<code>request</code>事件，<code>监听客户端的请求</code></li><li>启动服务器</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//导入http模块</span>
<span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;http&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//创建web服务器实例</span>
<span class="token keyword">const</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//为服务器实例绑定request事件，即可监听客户端发送过来的网络请求：</span>
<span class="token comment">//使用服务器实例的.on()方法，为服务器绑定一个request事件</span>
server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;request&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">//只要有客户端来请求我们自己的服务器，就会触发request事件，从而调用这个事件处理函数</span>

	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Someone visit our web server.&#39;</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//调用服务器实例的 .listen()方法，即可启动当前的web服务器实例：</span>
server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;http server running at http://127.0.0.1&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-req请求对象" tabindex="-1"><a class="header-anchor" href="#_2-req请求对象" aria-hidden="true">#</a> 2.<code>req</code>请求对象</h3><p>只要服务器接收到了客户端的请求，就会调用通过<code>server.on()</code>为服务器绑定的<code>request事件处理函数</code>。 如果想在事件处理函数中，<strong>访问与客户端相关的<code>数据</code>或<code>属性</code></strong>，可以使用如下的方式：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;request&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">//req是请求对象，它包含了与客户端相关的数据和属性，例如：</span>
	<span class="token comment">//req.url是客户端请求的URL地址</span>
	<span class="token comment">//req.method是客户端的method请求类型</span>
	<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Your request url is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>req<span class="token punctuation">.</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, and request menthod is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>req<span class="token punctuation">.</span>menthod<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-res响应对象" tabindex="-1"><a class="header-anchor" href="#_3-res响应对象" aria-hidden="true">#</a> 3.<code>res</code>响应对象</h3><p>在服务器的request事件处理函数中，如果想<strong>访问与服务器相关的<code>数据</code>或<code>属性</code></strong>，可以使用如下的方式：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;request&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">//res 是响应对象，它包含了与服务器相关的数据和属性，例如：</span>
	<span class="token comment">//要发送到客户端的字符串</span>
	<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Your request url is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>req<span class="token punctuation">.</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, and request method is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>req<span class="token punctuation">.</span>method<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
	<span class="token comment">//res.end()方法的作用</span>
	<span class="token comment">//向客户端发送指定的内容，并结束这次请求的处理过程</span>
	res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-解决中文乱码问题" tabindex="-1"><a class="header-anchor" href="#_4-解决中文乱码问题" aria-hidden="true">#</a> 4.解决<code>中文乱码</code>问题</h3><p>当调用res.end()方法，向客户端发送中文内容的时候，会出现乱码问题，此时，需要手动设置内容的编码格式：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;request&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">// 发送的内容包含中文</span>
	<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">您请求的url地址是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>req<span class="token punctuation">.</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,请求的method类型是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>req<span class="token punctuation">.</span>method<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
	<span class="token comment">// 为了防止中文显示乱码的问题，需要设置响应头Content-Type的值为text/html; charset=utf-8</span>
	res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&#39;Content-Type&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;text/html; charset=utf-8&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 把包含中文的内容，响应给客户端</span>
	res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="根据不同的url响应不同的html内容" tabindex="-1"><a class="header-anchor" href="#根据不同的url响应不同的html内容" aria-hidden="true">#</a> 根据不同的url响应不同的html内容</h2><h3 id="_1-核心实现步骤" tabindex="-1"><a class="header-anchor" href="#_1-核心实现步骤" aria-hidden="true">#</a> 1.核心实现步骤</h3><ul><li>获取请求的url地址</li><li>设置默认的响应内容为404 Not found</li><li>判断用户请求的是否为/ 或 /index.html首页</li><li>判断用户请求的是否为/about.html关于页面</li><li>设置Content-Type 响应头，防止中文乱码</li><li>使用res.end() 把内容响应给客户端</li></ul><h3 id="_2-动态响应内容" tabindex="-1"><a class="header-anchor" href="#_2-动态响应内容" aria-hidden="true">#</a> 2.动态响应内容</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;request&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> url <span class="token operator">=</span> req<span class="token punctuation">.</span>url  <span class="token comment">// 获取请求的url地址</span>
	<span class="token keyword">let</span> content <span class="token operator">=</span> <span class="token string">&#39;&lt;h1&gt; 404 Not found!&lt;/h1&gt;&#39;</span>  <span class="token comment">// 设置默认的内容为404 Not found </span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>url <span class="token operator">===</span> <span class="token string">&#39;/&#39;</span> <span class="token operator">||</span> url <span class="token operator">===</span> <span class="token string">&#39;/index.html&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		content <span class="token operator">=</span> <span class="token string">&#39;&lt;h1&gt;首页&lt;/h1&gt;&#39;</span>  <span class="token comment">// 用户请求的是首页</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>url <span class="token operator">===</span> <span class="token string">&#39;/about.html&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		content <span class="token operator">=</span> <span class="token string">&#39;&lt;h1&gt;关于页面&lt;/h1&gt;&#39;</span>  <span class="token comment">// 用户请求的是关于页面</span>
	<span class="token punctuation">}</span>

	res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&#39;Content-Type&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;text/html; charset=utf-8&#39;</span><span class="token punctuation">)</span>  <span class="token comment">// 设置Content-Type响应头， 防止中文乱码</span>
	res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>  <span class="token comment">// 把内容发送给客户端</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/norunpig/oliver-blog-content/edit/main/oliver-blog-content/docs/node/1.http模块.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page on GitHub"><!--[--><!--]--> Edit this page on GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><!----></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/blog/docs/node/2.%E6%A8%A1%E5%9D%97%E5%8C%96.html" class="" aria-label="模块化"><!--[--><!--]--> 模块化 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/blog/assets/app-4bccd600.js" defer></script>
  </body>
</html>
